# 应用背景
做一个类似ComfyUI类似的应用，但是是基于Web的。做成React Flow的形式。用于设计思维的相关设计流程。

# 功能清单
1. 基于白板的设计思维，可以自定义各类节点，节点的样式使用框架显示，节点与节点之间使用线连接
2. 内容包含在节点内，节点内容包括大模型配置选项，参数配置
2. 框与框之间的连接可以用连线进行连接
3. 线条的显示需要有动画支持
4. 支持快捷键，比如Ctrl+Z 撤销，Ctrl+S 保存
5. 支持Markdown / JSON 格式存储导出
6. 支持AI 生成思维导图
7. 支持实时协作
8. 支持跨平台支持（Web、桌面端 Electron、移动端 React Native）
9. 支持数据库存储
10. 支持权限管理
11. 支持国际化
12. 支持主题切换
13. 支持自定义样式
14. 支持自定义快捷键
15. 支持缩略图显示
16. 支持历史记录
17. 支持分享
18. 支持导入导出
19. 支持打印
20. 支持导出PDF
21. 支持导出图片
22. 支持导出SVG
23. 支持导出Markdown
24. 支持导出JSON
25. 支持导出HTML
26. 每个节点支持配置自定义大模型
27. 在白板上单独使用一个悬浮窗显示整体计划内容
28. 设计一个类似ComfyUI的界面，但是是基于Web的
29. 设计一个付费界面，包含免费使用和月付费、年付费、终生使用的选项


# **1. 软件架构设计**
# **架构模式**
- **前后端分离**（前端和后端通过 API 交互，提升扩展性）
- **微服务架构**（拆分不同服务，如存储、协作、AI 辅助）
- **Serverless**（低成本、弹性扩展需求）

---

# **2. 技术栈选型**
# **前端**
## **选型方案**
1. **框架：Vite + React + TypeScript + Canvas**
    - 组件化开发，生态丰富，适合复杂交互
    - TypeScript 提高代码可维护性
    - Vite + React + Canvas（轻量、可定制）
    - 待定：[react-flow](https://reactflow.dev/)（轻量、可定制、支持拖拽）
3. **UI 组件库**
   - Tailwind CSS（轻量、可自定义）
   - Shadcn/ui（现代设计）

## **关键技术**
- **Canvas / SVG 绘制思维导图**
- **WebSocket 实时协作**
- **拖拽 & 节点连接**
- **快捷键支持（Ctrl+Z 撤销，Ctrl+S 保存）**
- **Markdown / JSON 格式存储导出**

---

## **后端**
## **选型方案**
1. **框架**
   - **Node.js**（轻量、适合前后端同构）
   - **后端待定**（高性能）
   - **Python**（适合 AI 辅助功能）
2. **实时协作**
   - 网络通信待定
   - 待定：CRDT（冲突自由数据类型）支持多人编辑
3. **AI 生成思维导图**
   - 待定：OpenAI / ChatGPT 接口
   - 自定义 NLP 解析文本生成结构化数据

---

## **数据库**
- **待定：PostgreSQL**（支持 JSON 数据存储）
- **待定：MongoDB**（更适合文档存储）
- **待定：Redis**（缓存 & 协作数据同步）
- **待定：Firebase Firestore**（Serverless 解决方案）

---

## **3. 部署方案**
- **待定：Docker + Kubernetes**（适合规模化应用）
- **待定：Serverless（Vercel / Cloud Functions）**（适合 MVP 快速上线）
- **待定：数据库托管（Supabase / Firebase）**（降低维护成本）

